<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8" />
<title>Help Queue</title>
<style>
  body { font-family:sans-serif; max-width:600px; margin:40px auto; }
  input, button { padding:8px; font-size:16px; }
  li { margin:8px 0; }
  button.remove { margin-left:10px; }
</style>
</head>

<body>
<h2>Help Queue</h2>

<input id="name" placeholder="Your name">
<input id="comment" placeholder="Comment / issue">
<button onclick="joinQueue()">Join Queue</button>

<ul id="queue"></ul>

<!-- Firebase -->
<script src="https://www.gstatic.com/firebasejs/9.6.11/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.6.11/firebase-database-compat.js"></script>

<script>
// ----------------------
// For Firebase JS SDK v7.20.0 and later, measurementId is optional

const firebaseConfig = {

  apiKey: "AIzaSyCG5fYAKQNhk-zCgcUa6T74x5HUaodQdPg",

  authDomain: "classroom-queue-4e88c.firebaseapp.com",

  projectId: "classroom-queue-4e88c",

  storageBucket: "classroom-queue-4e88c.firebasestorage.app",

  messagingSenderId: "669625911794",

  appId: "1:669625911794:web:70048bd3d29ab03d16c36b",

  measurementId: "G-BJS0TK7TK7"

};

firebase.initializeApp(firebaseConfig);
const db = firebase.database().ref("helpQueue");

// Add student
function joinQueue() {
  const name = document.getElementById("name").value.trim();
  const comment = document.getElementById("comment").value.trim();
  if (!name) return;
  db.push({ name, comment });
  document.getElementById("comment").value = "";
}

// Render queue
db.on("value", snapshot => {
  const list = snapshot.val() || {};
  const ul = document.getElementById("queue");
  ul.innerHTML = "";

  Object.entries(list).forEach(([id, item]) => {
    const li = document.createElement("li");
    li.textContent = `${item.name}: ${item.comment}`;
    const btn = document.createElement("button");
    btn.textContent = "Done";
    btn.className = "remove";
    btn.onclick = () => db.child(id).remove();
    li.appendChild(btn);
    ul.appendChild(li);
  });
});
</script>

</body>
</html>